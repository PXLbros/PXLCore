function pxlCore_Notification_Engine_SweetAlert(e){this.loaded=this.init(e)}function pxlCore_Notification_Engine_Notiny(e){this.loaded=this.init(e)}function pxlCore_Notification(e){this.init(e)}function pxlCore_Dialog(e){this.init(e)}function pxlCore_Ajax_Request(e){this.init(e)}function pxlCore_Ajax(e){this.init(e)}function pxlCore_UI(e){this.init(e)}function pxlCore_URI(e){this.init(e)}function pxlCore_Form_FileUpload(e){this._init(e)}function pxlCore_Form(e){this.init(e)}function pxlCore(e){this.init(e)}pxlCore_Notification_Engine_SweetAlert.prototype={$pxl:null,init:function(e){var n=this;return"function"!=typeof sweetAlert?!1:(n.$pxl=e,!0)},showSuccess:function(e){},showConfirm:function(e){var n="string"==typeof e.title?e.title:null;swal({title:n,text:null!==e.question?e.question:null,type:"string"==typeof e.type?e.type:"info",showCancelButton:!0,confirmButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.yes?e.buttons.yes:"Yes",cancelButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.no?e.buttons.no:"No"},"function"==typeof e.yes?e.yes:function(){})}},pxlCore_Notification_Engine_Notiny.prototype={$pxl:null,options:{position:"right-top",width:"auto"},init:function(e){var n=this;return"function"!=typeof $.notiny?!1:(n.$pxl=e,!0)},showSuccess:function(e){var n=this,i="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:n.options.position,width:n.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:i,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})},showError:function(e){var n=this,i="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:n.options.position,width:n.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:i,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})}},pxlCore_Notification.prototype={engines:[],default_engine_id:null,current_engine_id:null,init:function(e){var n=this;e.options.debug===!0&&e.log("~ pxlCore/Notification ~","#CCC","black");var i,o,t,r;for(i=0,num_engines=e.options.notification.engines.length;i<num_engines;i++)o=e.options.notification.engines[i],t="pxlCore_Notification_Engine_"+o,r=new window[t](e),r.loaded!==!1?(n.engines[o]=r,(0===i||i>0&&null===n.default_engine_id)&&(n.default_engine_id=o)):e.error('Could not load notification engine "'+o+'".');var l=e.getObjectSize(n.engines);if(null!==n.default_engine_id&&n.setEngine(n.default_engine_id),e.options.debug===!0){var s="Loaded Engines: ";if(l>0){i=0;for(o in n.engines)s+=o+(l-1>i?", ":""),i++}else s+="None";e.log(s),e.log("Default Engine: "+(null!==n.default_engine_id?n.default_engine_id:"/"))}},setEngine:function(e){this.current_engine_id=e},prepare:function(e,n){var i=this;if("string"==typeof e.engine){if("object"!=typeof i.engines[e.engine])return $pxl.error('pxlCore/Notification: Engine "'+e.engine+'" not found.'),!1;i.setEngine(e.engine)}var o=i.engines[i.current_engine_id];if("function"!=typeof o["show"+n])return $pxl.error('pxlCore/Notification: Engine "'+i.current_engine_id+'" doesn\'t support type "'+n+'".'),!1;if("Success"===n||"Info"===n||"Warning"===n||"Error"===n){if("undefined"==typeof e.message)return $pxl.error('pxlCore/Notification: Missing required argument "message".'),!1}else if("Confirm"===n&&"undefined"==typeof e.question)return $pxl.error('pxlCore/Notification: Missing required argument "question".'),!1;return!0},finalize:function(){this.setEngine(this.default_engine_id)},showSuccess:function(e){var n=this;n.prepare(e,"Success")!==!1&&(n.engines[n.current_engine_id].showSuccess(e),n.finalize())},showInfo:function(e){var n=this;n.prepare(e,"Info")!==!1&&(n.engines[n.current_engine_id].showInfo(e),n.finalize())},showWarning:function(e){var n=this;n.prepare(e,"Warning")!==!1&&(n.engines[n.current_engine_id].showWarning(e),n.finalize())},showError:function(e){var n=this;n.prepare(e,"Error")!==!1&&(n.engines[n.current_engine_id].showError(e),n.finalize())},showConfirm:function(e){var n=this;n.prepare(e,"Confirm")!==!1&&(n.engines[n.current_engine_id].showConfirm(e),n.finalize())},show:function(e){var n=this;if("undefined"==typeof e.type)return $pxl.error('pxlCore/Notification: Missing required argument "type".'),!1;var i;1===e.type?i="Success":2===e.type?i="Info":3===e.type?i="Warning":4===e.type&&(i="Error"),n.prepare(e,i)!==!1&&(1===e.type?n.engines[n.current_engine_id].showSuccess(e):2===e.type?n.engines[n.current_engine_id].showInfo(e):3===e.type?n.engines[n.current_engine_id].showWarning(e):4===e.type&&n.engines[n.current_engine_id].showError(e),n.finalize())}},pxlCore_Dialog.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/Dialog ~","#CCC","black")},init_from_element:function(e,n){console.log("init from element")}},pxlCore_Ajax_Request.prototype={$pxl:null,$form:null,url:"",data:{},method:"GET",data_type:"json",cache:!1,async:!0,result:null,before:null,progress:null,success:null,error:null,always:null,abort:null,init:function(e){var n=this;n.$pxl=e,n.$pxl.options.debug===!0&&n.$pxl.log("~ pxlCore/Ajax ~","#CCC","black")},execute:function(){var e=this;if($pxl.isUndefined(e.url))return void $pxl.log("Missing AJAX URL.");$pxl.isUndefined($pxl.ajax.requests[e.url])||$pxl.ajax.requests[e.url].abort();var n=$pxl.isDefined(e.file_upload)&&e.file_upload===!0,i={"X-XSRF-TOKEN":$pxl.framework.csrf_token};n===!0&&$pxl.isObject(e.file_upload_data)&&(i=$.extend(i,e.file_upload_data)),$pxl.ajax.requests[e.url]=$.ajax({type:e.method,url:e.url,data:e.data,dataType:e.data_type,cache:e.cache,async:e.async,processData:n!==!0,contentType:n===!0?!1:"application/x-www-form-urlencoded; charset=UTF-8",headers:i,xhr:function(){var n=$.ajaxSettings.xhr();return $pxl.isFunction(e.progress)&&(n.upload.onprogress=function(n){var i=n.loaded/n.total*100;e.progress(i)}),n},beforeSend:function(n,i){$pxl.isFunction(e.before)&&e.before(n,i)}}).done(function(n){$pxl.isFunction(e.success)&&e.success(n),"undefined"!=typeof n.notification&&null!==n.notification&&"number"==typeof n.notification.type&&"string"==typeof n.notification.text&&$pxl.notification.show({type:n.notification.type,message:n.notification.text}),$pxl.isUndefined(n.redirect)||setTimeout(function(){return $pxl.redirect(n.redirect.url)},n.redirect.delay),e.result=n}).always(function(n){$pxl.isFunction(e.always)&&e.always(n),delete $pxl.ajax.requests[e.url]}).fail(function(n,i,o){"abort"===n?$pxl.isFunction(e.abort)&&e.abort():($pxl.isFunction(e.error)&&e.error(o),$pxl.options.debug===!0&&$pxl.notification.showError({message:n.responseText,autoHide:!1}))})}},pxlCore_Ajax.prototype={$pxl:null,requests:[],init:function(e){var n=this;n.$pxl=e,n.$pxl.options.debug===!0&&n.$pxl.log("~ pxlCore/Ajax ~","#CCC","black")},get:function(e,n,i,o){var t=this,r=new pxlCore_Ajax_Request(t.$pxl);if(r.method="GET",r.url=e,r.data=n,t.$pxl.isUndefined(i)&&(i={}),t.$pxl.isFunction(i.before)&&(r.before=i.before),t.$pxl.isFunction(i.progress)&&(r.progress=i.progress),t.$pxl.isFunction(i.success)&&(r.success=i.success),t.$pxl.isFunction(i.error)&&(r.error=i.error),t.$pxl.isFunction(i.always)&&(r.always=i.always),t.$pxl.isFunction(i.abort)&&(r.abort=i.abort),t.$pxl.isObject(o))for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l]);r.execute()},post:function(e,n,i,o){var t=this,r=new pxlCore_Ajax_Request(t.$pxl);if(r.method="POST",r.url=e,r.data=n,t.$pxl.isUndefined(i)&&(i={}),t.$pxl.isFunction(i.before)&&(r.before=i.before),t.$pxl.isFunction(i.progress)&&(r.progress=i.progress),t.$pxl.isFunction(i.success)&&(r.success=i.success),t.$pxl.isFunction(i.error)&&(r.error=i.error),t.$pxl.isFunction(i.always)&&(r.always=i.always),t.$pxl.isFunction(i.abort)&&(r.abort=i.abort),t.$pxl.isObject(o))for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l]);r.execute()}},pxlCore_UI.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/UI ~","#CCC","black")}},pxlCore_URI.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/URI ~","#CCC","black")},urlize:function(e){return $pxl.isUndefined($pxl.framework.base_url)?void $pxl.log("Base URL not set."):$pxl.framework.base_url+e}},pxlCore_Form_FileUpload.prototype={$pxl:null,save_url:null,additional_data:null,files:[],num_files:0,num_files_without_error:0,num_processed_files:0,num_processed_files_without_error:0,allowed_mime_types:null,max_file_size:null,events:null,_init:function(e){var n=this;n.$pxl=e},init:function(e,n,i,o){var t=this;return t.save_url=e,t.additional_data=n,t.allowed_mime_types=i,t.events=o,t},checkFileType:function(e){var n=this;return null===n.allowed_mime_types?!0:$pxl.inArray(e.type,n.allowed_mime_types)?!0:!1},checkFileSize:function(e){var n=this;return null===n.max_file_size?!0:!0},start:function(){var e=this;$pxl.options.debug===!0&&$pxl.log("Processing file "+(e.num_processed_files+1)+" of "+e.num_files_without_error+"..."),e.processQueueFile()},processQueueFile:function(){var e=this,n=e.files[e.num_processed_files],i=function(n,i){$pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error,percent:Math.round(e.num_processed_files_without_error/e.num_files_without_error*100),error:i}),e.num_processed_files<e.num_files-1?(e.num_processed_files++,n.error===!1&&e.num_processed_files_without_error++,e.processQueueFile()):($pxl.isFunction(e.events.onAllComplete)&&e.events.onAllComplete(),pxl_file_upload.clearQueue())};$pxl.isFunction(e.events.onBeforeFileUpload)&&e.events.onBeforeFileUpload({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error}),n.error===!1?$pxl.ajax.post(e.save_url,n,{progress:function(i){$pxl.isFunction(e.events.onFileProgress)&&e.events.onFileProgress({file:n,file_index:e.num_processed_files,percent:i})},success:function(n){var o=e.files[e.num_processed_files];$pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:o,file_index:e.num_processed_files,result:n}),i(o,null)},error:function(o){$pxl.isFunction(e.events.onFileError)&&e.events.onFileError({file:n,file_index:e.num_processed_files,error:o}),i(n,o)}},{file_upload:!0,file_upload_data:e.additional_data}):i(n,null)},throwError:function(e){var n=this;"function"==typeof n.events.onError&&n.events.onError(e)},removeFileFromQueue:function(e){var n=this;return $pxl.isUndefined(n.files[e])?void($pxl.options.debug===!0&&$pxl.error("Could not find queue file on index "+e+".")):(n.files.splice(e,1),void n.num_files--)},getFiles:function(){return this.files},clearQueue:function(){var e=this;e.files=[],e.num_files=0,e.num_files_without_error=0,e.num_processed_files=0,e.num_processed_files_without_error=0},addFilesToQueue:function(e){for(var n=this,i=0,o=e.length;o>i;i++){var t=e[i],r={file:t,errors:{mime:!1,size:!1},error:!1};n.checkFileType(t)===!1&&(r.errors.mime=!0,r.error=!0),n.checkFileSize(t)===!1&&(r.errors.size=!0,r.error=!0),r.error===!1&&n.num_files_without_error++,n.files.push(r)}n.num_files=n.files.length}},pxlCore_Form.prototype={$pxl:null,file_upload:null,init:function(e){var n=this;e.options.debug===!0&&e.log("~ pxlCore/Form ~","#CCC","black"),n.$pxl=e,n.file_upload=new pxlCore_Form_FileUpload(e)}},pxlCore.prototype={version:"1.0.26",options:{debug:!1,notification:{engines:[]}},framework:null,ui:null,ajax:null,dialog:null,notification:null,uri:null,form:null,libraries:[],init:function(e){var n=this;"object"==typeof e&&(n.options=n.extend(n.options,e)),n.detectPXLFramework(),n.options.debug===!0&&(n.log("~ pxlCore ~","black","white"),n.log("Version: "+n.version),n.log("Detected pxlFramework: "+(null!==n.framework?"Yes":"No")),null!==n.framework&&(n.log("Current Page: "+n.framework.current_page),n.log("Page ID: "+n.framework.page_id),n.log("Base URL: "+n.framework.base_url))),n.ui=new pxlCore_UI(n),n.ajax=new pxlCore_Ajax(n),n.dialog=new pxlCore_Dialog(n),n.notification=new pxlCore_Notification(n),n.uri=new pxlCore_URI(n),n.form=new pxlCore_Form(n)},detectPXLFramework:function(){var e=this;"object"==typeof pxl&&(e.framework=pxl)},log:function(e,n,i){var o="";"string"==typeof n&&(o="background:"+n+";padding:0 6px"),"string"==typeof i&&(o+=(""!==o?";":"")+"color:"+i),console.log("%c"+e,""!==o?o:null)},error:function(e){this.log(e,"#F00","#FFF")},extend:function(e,n){var i,o={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i]);return o},isUndefined:function(e){return void 0==e},isDefined:function(e){return!this.isUndefined(e)},isFunction:function(e){return"function"==typeof e},isObject:function(e){return e===Object(e)},inArray:function(e,n){return-1!==$.inArray(e,n)},getObjectSize:function(e){var n,i=0;for(n in e)e.hasOwnProperty(n)&&i++;return i},redirect:function(e,n){window.location="boolean"==typeof n?this.uri.urlize(e):e},implode:function(e,n,i){var o="",t="",r="";if(i=i||null,1===arguments.length&&(n=e,e=""),"object"==typeof n){if("[object Array]"===Object.prototype.toString.call(n)&&null===i)return n.join(e);var l=n.length;for(o in n)n.hasOwnProperty(o)&&(t+=r+n[o],r=l-2>o?e:i);return t}return n}};