function pxlCore_DynamicItem(e){this.init(e)}function pxlCore_Notification_Engine_SweetAlert(e){this.loaded=this.init(e)}function pxlCore_Notification_Engine_Notiny(e){this.loaded=this.init(e)}function pxlCore_Notification(e,t){this.$pxl=e,this.init(t)}function pxlCore_Modal(e){this.$pxl=e,this.init(e)}function pxlCore_Ajax_Request(e){this.init(e)}function pxlCore_Ajax(e){this.init(e)}function pxlCore_UI(e){this.$pxl=e,this.init(e)}function pxlCore_URI(e){this.$pxl=e}function pxlCore_Form_FileUpload(e){this._init(e)}function pxlCore_Form(e){this.init(e)}function pxlCore(e){this.init(e)}pxlCore_DynamicItem.prototype={$pxl:null,table:{container_selector:"#dynamic-table-container",search_input_selector:"#dynamic-table-search",$container:null,$paging_containers:null,$search_input:null,search_query:"",searching:!1,loading_html:null,current_page:1,num_pages:null},item:{form_selector:"#dynamic-item-form",$form:null,loader_selector:"#dynamic-item-form-loader",$loader:null,$loader_text:null,tabs_selector:"#dynamic-item-tabs",$tabs:null,save_button_selector:"#dynamic-item-save-button",$save_button:null},init:function(e){var t=this;e.options.debug===!0&&e.log("~ pxlCore/DynamicItem ~","#CCC","black"),t.$pxl=e,t.initTable(),t.initItem()},initTable:function(){var e=this;if("undefined"!=typeof dynamic_item&&"table"===dynamic_item.current_page){if(e.table.$container=$(e.table.container_selector),0===e.table.$container.length)return void e.$pxl.log('Could not find dynamic table element "'+e.table.container_selector+'".');e.table.loading_html=e.table.$container.html(),e.refreshTable(!0)}},refreshTable:function(e){var t=this;e===!1&&t.showTableLoader();var n={};dynamic_item.config.table.paging.enabled===!0&&(n.page=t.current_page),dynamic_item.config.table.search.enabled===!0&&(n.search_query=t.search_query),t.$pxl.ajax.get(dynamic_item.config.table.routes.get,n,{success:function(e){t.table.$container.html(e.data.html),dynamic_item.config.table.paging.enabled===!0&&(t.current_page=e.data.paging.current_page,t.num_pages=e.data.paging.num_pages),t.binds()},error:function(){t.showTableError()}})},showTableLoader:function(){this.table.$container.html(this.table.loading_html)},showTableError:function(){this.table.$container.html("Could not load "+dynamic_item.config.identifier.plural+".")},binds:function(e){{var t=this;t.$pxl.isDefined(e)?$("#dynamic-table-item-"+e):t.table.$container}dynamic_item.config.table.paging.enabled===!0&&(t.$paging_containers=t.table.$container.find(".pagination"),t.$paging_containers.find(".prev:not(.disabled)").on("click",function(){t.current_page--,t.refreshTable(!1)}),t.$paging_containers.find(".next:not(.disabled)").on("click",function(){t.current_page++,t.refreshTable(!1)})),dynamic_item.config.table.search.enabled===!0&&(t.$search_input=$(t.table.search_input_selector),t.searching===!0&&(t.$pxl.ui.setCaretAtEnd(document.querySelector(t.table.search_input_selector)),t.searching=!1),0===t.$search_input.length?t.$pxl.log("Could not find dynamic table search input "+t.table.search_input_selector+"."):t.$search_input.on("keyup",function(e){13===(e.keyCode||e.which)&&(t.search_query=t.$search_input.val(),t.searching=!0,t.refreshTable(!1))}))},initItem:function(){var e=this;if("undefined"!=typeof dynamic_item&&"undefined"!=typeof dynamic_item&&"item"===dynamic_item.current_page){if(e.item.$form=$(e.item.form_selector),0===e.item.$form.length)return void e.$pxl.log('Could not find dynamic item form "'+e.item.form_selector+'".');e.item.$form.on("submit",function(){return!1}),e.item.$loader=$(e.item.loader_selector),e.item.$loader_text=e.item.$loader.children(".text"),e.item.$save_button=$(e.item.save_button_selector),e.item.$save_button.attr("data-default_text",e.item.$save_button.text());var t={},n=[];for(var i in dynamic_item.columns)if(dynamic_item.columns.hasOwnProperty(i)){dynamic_item.columns[i].id=i;var o=dynamic_item.columns[i],r=[];if("object"==typeof o.form.validation){if("number"==typeof o.form.validation.required&&(o.form.validation.required===dynamic_item.DYNAMIC_ITEM_ALWAYS_REQUIRED||null===dynamic_item.item_id_to_edit&&o.form.validation.required===dynamic_item.DYNAMIC_ITEM_REQUIRED_ON_ADD)){var l="";l="select"===o.form.type?"Choose a "+o.title.toLowerCase():o.title+" is required",r.push({type:"empty",prompt:l})}"number"==typeof o.form.maxlength&&r.push({type:"maxLength["+o.validation.maxlength+"]",prompt:"Name can't be longer than "+o.validation.maxlength+" character"+(1!==o.validation.maxlength?"s":"")})}if("boolean"==typeof o.form.verify&&o.form.verify===!0){var a="verify-"+i;t[a]={identifier:a,optional:null!==dynamic_item.item_id_to_edit,rules:[{type:"empty",prompt:"Verify "+o.title+" is required"},{type:"match["+i+"]",prompt:"Verify "+o.title+" doesn't match with "+o.title}]}}t[i]={identifier:i,rules:r}}var s=n.length,u=s>0;e.item.$form.form(t,{inline:!0,onSuccess:function(){e.item.$save_button.prop("disabled",!0),e.setItemLoaderText((null!==dynamic_item.item_id_to_edit?"Saving":"Adding")+" "+dynamic_item.config.identifier+"..."),e.item.$loader.addClass("active");var t=e.item.$form.find(":input").serialize();t+="&have_custom_saving_columns="+(u===!0?"yes":"no"),e.$pxl.ajax.post(e.item.$form.attr("action"),t,{success:function(t){null!==dynamic_item.item_id_to_edit?dynamic_item.item_id_to_edit:t.data.added_item_id;e.setItemLoaderText(e.$pxl.ucfirst(dynamic_item.config.identifier)+" "+(null===dynamic_item.item_id_to_edit?"added":"saved")+"!")},error:function(){},always:{}})}})}},setItemLoaderText:function(e){this.item.$loader_text.html(e)}},pxlCore_Notification_Engine_SweetAlert.prototype={$pxl:null,init:function(e){var t=this;return"function"!=typeof sweetAlert?!1:(t.$pxl=e,!0)},showSuccess:function(e){swal({title:e.title,text:null!==e.message?e.message:null,type:"success"})},showInfo:function(e){swal({title:e.title,text:null!==e.message?e.message:null,type:"info"})},showWarning:function(e){swal({title:e.title,text:null!==e.message?e.message:null,type:"warning"})},showError:function(e){swal({title:e.title,text:null!==e.message?e.message:null,type:"error"})},showConfirm:function(e){var t="string"==typeof e.title?e.title:null;swal({title:t,text:null!==e.question?e.question:null,type:"string"==typeof e.type?e.type:"info",showCancelButton:!0,confirmButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.yes?e.buttons.yes:"Yes",cancelButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.no?e.buttons.no:"No"},"function"==typeof e.onConfirm?e.onConfirm:function(){})}},pxlCore_Notification_Engine_Notiny.prototype={$pxl:null,options:{position:"right-top",width:"auto"},init:function(e){var t=this;return"function"!=typeof $.notiny?!1:(t.$pxl=e,!0)},showSuccess:function(e){var t=this,n="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:t.options.position,width:t.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:n,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})},showError:function(e){var t=this,n="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:t.options.position,width:t.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:n,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})}},pxlCore_Notification.prototype={engines:[],default_engine_id:null,current_engine_id:null,init:function(e){var t=this;t.$pxl.options.debug===!0&&t.$pxl.log("~ pxlCore/Notification ~","#CCC","black");var n,i,o,r;for(n=0,num_engines=t.$pxl.options.notification.engines.length;n<num_engines;n++)i=t.$pxl.options.notification.engines[n],o="pxlCore_Notification_Engine_"+i,r=new window[o](t.$pxl),r.loaded!==!1?(t.engines[i]=r,(0===n||n>0&&null===t.default_engine_id)&&(t.default_engine_id=i)):t.$pxl.error('Could not load notification engine "'+i+'".');t.$pxl.isDefined(e)&&(t.default_engine_id=e);var l=t.$pxl.getObjectSize(t.engines);if(null!==t.default_engine_id&&t.setEngine(t.default_engine_id),t.$pxl.options.debug===!0){var a="Loaded Engines: ";if(l>0){n=0;for(i in t.engines)a+=i+(l-1>n?", ":""),n++}else a+="None";t.$pxl.log(a),t.$pxl.log("Default Engine: "+(null!==t.default_engine_id?t.default_engine_id:"/"))}},setEngine:function(e){this.current_engine_id=e},prepare:function(e,t){var n=this;if("string"==typeof e.engine){if("object"!=typeof n.engines[e.engine])return n.$pxl.error('pxlCore/Notification: Engine "'+e.engine+'" not found.'),!1;n.setEngine(e.engine)}var i=n.engines[n.current_engine_id];if("function"!=typeof i["show"+t])return n.$pxl.error('pxlCore/Notification: Engine "'+n.current_engine_id+'" doesn\'t support type "'+t+'".'),!1;if("Success"===t||"Info"===t||"Warning"===t||"Error"===t){if("undefined"==typeof e.message)return n.$pxl.error('pxlCore/Notification: Missing required argument "message".'),!1}else if("Confirm"===t&&"undefined"==typeof e.question)return n.$pxl.error('pxlCore/Notification: Missing required argument "question".'),!1;return!0},reset:function(){this.setEngine(this.default_engine_id)},showSuccess:function(e){var t=this;t.prepare(e,"Success")!==!1&&(t.engines[t.current_engine_id].showSuccess(e),t.reset())},showInfo:function(e){var t=this;t.prepare(e,"Info")!==!1&&(t.engines[t.current_engine_id].showInfo(e),t.reset())},showWarning:function(e){var t=this;t.prepare(e,"Warning")!==!1&&(t.engines[t.current_engine_id].showWarning(e),t.reset())},showError:function(e){var t=this;t.prepare(e,"Error")!==!1&&(t.engines[t.current_engine_id].showError(e),t.reset())},showConfirm:function(e){var t=this;t.prepare(e,"Confirm")!==!1&&(t.engines[t.current_engine_id].showConfirm(e),t.reset())},show:function(e){var t=this;if("undefined"==typeof e.type)return t.$pxl.error('pxlCore/Notification: Missing required argument "type".'),!1;var n;1===e.type?n="Success":2===e.type?n="Info":3===e.type?n="Warning":4===e.type&&(n="Error"),t.prepare(e,n)!==!1&&(1===e.type?t.engines[t.current_engine_id].showSuccess(e):2===e.type?t.engines[t.current_engine_id].showInfo(e):3===e.type?t.engines[t.current_engine_id].showWarning(e):4===e.type&&t.engines[t.current_engine_id].showError(e),t.reset())}},pxlCore_Modal.prototype={default_options:{title:null,width:320,height:240,modal:!0,autoOpen:!1,verticalPadding:20,horizontalPadding:18,headerHeight:40,buttonsContainerHeight:40,buttons:[],getURL:null,getData:null,loadingText:"Loading",modes:null,afterLoaded:null},modals:{},current_modal_id:null,init:function(e){e.options.debug===!0&&e.log("~ pxlCore/Modal ~","#CCC","black")},initFromElement:function(e,t){},initFromHTML:function(e,t){var n=this;return n.create(t)},create:function(e){var t=this,n=$pxl.getObjectSize(t.modals)+1;"object"==typeof e&&(e=$pxl.extend(t.default_options,e));var i={id:n,selector:"#pxl-modal-"+n,$modal_overlay:null,$modal:null,$loader:null,$loader_text:null,$header:null,$content:null,$buttons_container:null,$buttons:null,default_line_height:null,mode:null,options:e,setLoaderText:function(e){var t=this;t.$loader_text.innerHTML=e},showLoader:function(e){var t=this;($pxl.isUndefined(e)||null===e)&&(e=this.options.loadingText),t.$modal.classList.add("loading"),t.$content.style.lineHeight=t.$content.style.height,t.setLoaderText(e),t.$loader.style.display="block"},hideLoader:function(){var e=this;e.$modal.classList.remove("loading"),e.$loader.style.display="none"},getButtons:function(){var e=this;return null===e.options.modes?e.options.buttons:void 0},enableButtons:function(e){var t=this;"boolean"!=typeof e&&(e=!1);var n=t.getButtons();for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];(e===!1||e===!0&&"undefined"!=typeof o.save&&o.save===!1)&&$(o.selector).removeClass("disabled")}},disableButtons:function(e){var t=this;"boolean"!=typeof e&&(e=!1);var n=t.getButtons();for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];e===!1||e&&"undefined"!=typeof o.save&&o.save===!0?$(o.selector).addClass("disabled"):$(o.selector).removeClass("disabled")}},open:function(e){var n=this;n.showLoader(n.options.loadingText),document.body.appendChild(n.$modal_overlay),n.$modal_overlay.classList.add("open"),n.$modal.classList.add("open"),document.body.appendChild(n.$modal);var i,o,r=n.getButtons(),l="";for(i in r)r.hasOwnProperty(i)&&(o=r[i],l+=o.html);n.$buttons.innerHTML=l;for(i in r)r.hasOwnProperty(i)&&(o=r[i],$pxl.isFunction(o.click)&&!function(e){$(e.selector).on("click",function(){e.click(e)===!1})}(o));t.current_modal_id=n.id,$pxl.ajax.get(n.options.getURL,n.options.getData,{success:function(e){n.$content.innerHTML=e.data.html,n.$content.style.lineHeight=n.default_line_height,n.hideLoader(),n.enableButtons(),$pxl.isFunction(n.options.afterLoaded)&&n.options.afterLoaded(!0,e)},error:function(e){n.hideLoader(),n.enableButtons(!0),$pxl.isFunction(n.options.afterLoaded)&&n.options.afterLoaded(!1,e)}})},close:function(){var e=this;e.$modal.classList.add("close"),e.$modal.classList.remove("open"),e.$modal_overlay.classList.remove("open"),$(e.selector).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.$modal.classList.remove("close"),e.$content.classList.remove("error"),$(e.selector).remove()}),e.current_modal_id=null}},o=i.options.height-2*i.options.verticalPadding-i.options.headerHeight-i.options.buttonsContainerHeight;i.$loader=document.createElement("div"),i.$loader.className="ui segment pxl-modal-loader-container",i.$loader.style.height=o+"px";var r=document.createElement("div");r.className="ui active inverted dimmer",i.$loader_text=document.createElement("div"),i.$loader_text.setAttribute("id","pxl-modal-"+i.id+"-loader-text");var l;l=i.options.height>640?"large":i.options.height>480?"medium":"small",i.$loader_text.className="ui "+l+" text loader",i.$loader_text.innerHTML=i.options.loadingText,r.appendChild(i.$loader_text),i.$loader.appendChild(r),i.$header=document.createElement("div"),i.$header.className="pxl-modal-header",i.$header.style.height=i.options.headerHeight+"px",i.$header.innerHTML='<div class="pxl-modal-header-title">'+i.options.title+"</div>"+(i.options.closeButton===!0?'<div class="pxl-modal-header-buttons"><a href="javascript:" class="pxl-modal-close-button"><i class="remove icon"></i></a></div>':""),i.$content=document.createElement("div"),i.$content.className="pxl-modal-content",i.$content.style.height=o+"px",i.$content.style.overflowY="auto",i.$buttons_container=document.createElement("div"),i.$buttons_container.className="pxl-modal-buttons-container",i.$buttons_container.style.height=i.options.buttonsContainerHeight+"px",i.$buttons=document.createElement("div"),i.$buttons.className="core-modal-buttons";var a,s=function(e,t){return e.selector="#pxl-modal-"+i.id+"-button-"+(t+1),e.html='<a href="javascript:" id="'+e.selector.substring(1)+'" class="ui button tiny disabled">'+e.text+"</a>",function(e){e.setText=function(){return $(e.selector).html(text),e},e.setLoadingText=function(){e.setText(e.loadingText)},e.enable=function(){return $(e.selector).removeClass("disabled"),e},e.disable=function(){return $(e.selector).addClass("disabled"),e},e.spin=function(){return $(e.selector).addClass("loading"),e},e.stopSpin=function(){return $(e.selector).removeClass("loading"),e}}(e),e};if(null!==i.options.modes);else for(a=0,num_buttons=e.buttons.length;a<num_buttons;a++)i.options.buttons[a]=s(i.options.buttons[a],a);i.$buttons_container.appendChild(i.$buttons);var u=document.createElement("div");u.className="pxl-modal-overlay",u.style.background="rgba(0, 0, 0, .3)";var d=document.createElement("div");return d.className="pxl-modal",d.setAttribute("id","pxl-modal-"+i.id),d.style.width=i.options.width+"px",d.style.height=i.options.height+"px",d.style.marginTop=-(i.options.height/2)+"px",d.style.marginLeft=-(i.options.width/2)+"px",d.style.padding=i.options.verticalPadding+"px "+i.options.horizontalPadding+"px",d.appendChild(i.$loader),d.appendChild(i.$header),d.appendChild(i.$loader),d.appendChild(i.$content),d.appendChild(i.$buttons_container),i.default_line_height=i.$content.style.lineHeight,i.$modal_overlay=u,i.$modal=d,t.modals[i.id]=i,i.options.autoOpen===!0&&i.open(),i}},pxlCore_Ajax_Request.prototype={$pxl:null,$form:null,url:"",data:{},method:"GET",data_type:"json",cache:!1,async:!0,result:null,before:null,progress:null,success:null,error:null,always:null,abort:null,init:function(e){var t=this;t.$pxl=e},execute:function(){var e=this;if(e.$pxl.isUndefined(e.url))return void e.$pxl.log("Missing AJAX URL.");e.$pxl.isUndefined(e.$pxl.ajax.requests[e.url])||!e.$pxl.isUndefined(e.allowMultiple)&&e.allowMultiple!==!1||e.$pxl.ajax.requests[e.url].abort();var t=e.$pxl.isDefined(e.file_upload)&&e.file_upload===!0,n={"X-XSRF-TOKEN":e.$pxl.framework.csrf_token};t===!0&&e.$pxl.isObject(e.file_upload_data)&&(n=$.extend(n,e.file_upload_data)),e.$pxl.ajax.requests[e.url]=$.ajax({type:e.method,url:e.url,data:e.data,dataType:e.data_type,cache:e.cache,async:e.async,processData:t!==!0,contentType:t===!0?!1:"application/x-www-form-urlencoded; charset=UTF-8",headers:n,xhr:function(){var t=$.ajaxSettings.xhr();return e.$pxl.isFunction(e.progress)&&(t.upload.onprogress=function(t){var n=t.loaded/t.total*100;e.progress(n)}),t},beforeSend:function(t,n){e.$pxl.isFunction(e.before)&&e.before(t,n)}}).done(function(t){e.$pxl.isFunction(e.success)&&e.success(t),"undefined"!=typeof t.notification&&null!==t.notification&&"number"==typeof t.notification.type&&"string"==typeof t.notification.text&&e.$pxl.notification.show({type:t.notification.type,message:t.notification.text}),e.$pxl.isUndefined(t.redirect)||setTimeout(function(){return e.$pxl.redirect(t.redirect.url)},t.redirect.delay),e.result=t}).always(function(t){e.$pxl.isFunction(e.always)&&e.always(t),delete e.$pxl.ajax.requests[e.url]}).fail(function(t,n,i){"abort"===t?e.$pxl.isFunction(e.abort)&&e.abort():(e.$pxl.isFunction(e.error)&&e.error(i),e.$pxl.options.debug===!0&&e.$pxl.isDefined(t.responseText)&&e.$pxl.notification.showError({message:t.responseText,autoHide:!1}))})}},pxlCore_Ajax.prototype={$pxl:null,requests:[],init:function(e){var t=this;t.$pxl=e,t.$pxl.options.debug===!0&&t.$pxl.log("~ pxlCore/Ajax ~","#CCC","black")},get:function(e,t,n,i){var o=this,r=new pxlCore_Ajax_Request(o.$pxl);if(r.method="GET",r.url=e,r.data=t,o.$pxl.isUndefined(n)&&(n={}),o.$pxl.isFunction(n.before)&&(r.before=n.before),o.$pxl.isFunction(n.progress)&&(r.progress=n.progress),o.$pxl.isFunction(n.success)&&(r.success=n.success),o.$pxl.isFunction(n.error)&&(r.error=n.error),o.$pxl.isFunction(n.always)&&(r.always=n.always),o.$pxl.isFunction(n.abort)&&(r.abort=n.abort),o.$pxl.isObject(i))for(var l in i)i.hasOwnProperty(l)&&(r[l]=i[l]);return r.execute(),r},post:function(e,t,n,i){var o=this,r=new pxlCore_Ajax_Request(o.$pxl);if(r.method="POST",r.url=e,r.data=t,o.$pxl.isUndefined(n)&&(n={}),o.$pxl.isFunction(n.before)&&(r.before=n.before),o.$pxl.isFunction(n.progress)&&(r.progress=n.progress),o.$pxl.isFunction(n.success)&&(r.success=n.success),o.$pxl.isFunction(n.error)&&(r.error=n.error),o.$pxl.isFunction(n.always)&&(r.always=n.always),o.$pxl.isFunction(n.abort)&&(r.abort=n.abort),o.$pxl.isObject(i))for(var l in i)i.hasOwnProperty(l)&&(r[l]=i[l]);return r.execute(),r}},pxlCore_UI.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/UI ~","#CCC","black")},onAnimationComplete:function(e,t){null!==e&&this.$pxl.isFunction(t)&&(e.addEventListener("webkitAnimationEnd",t,!1),e.addEventListener("oAnimationEnd",t,!1),e.addEventListener("msAnimationEnd",t,!1),e.addEventListener("animationend",t,!1))},onTransitionComplete:function(e,t){null!==e&&this.$pxl.isFunction(t)&&(e.addEventListener("webkitTransitionEnd",t,!1),e.addEventListener("otransitionend",t,!1),e.addEventListener("oTransitionEnd",t,!1),e.addEventListener("msTransitionEnd",t,!1),e.addEventListener("transitionend",t,!1))},setCaretAtEnd:function(e){var t=e.value.length;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-t),n.moveStart("character",t),n.moveEnd("character",0),n.select()}else(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t,e.focus())}},pxlCore_URI.prototype={init:function(e){this.$pxl=e,e.options.debug===!0&&e.log("~ pxlCore/URI ~","#CCC","black")},urlize:function(e){return this.$pxl.isUndefined(this.$pxl.framework.base_url)?void this.$pxl.log("Base URL not set."):this.$pxl.framework.base_url+e}},pxlCore_Form_FileUpload.prototype={$pxl:null,save_url:null,additional_data:{},files:[],num_files:0,num_files_without_error:0,num_processed_files:0,num_processed_files_without_error:0,allowed_mime_types:null,max_file_size:null,events:null,is_uploading:!1,cancelled:!1,_init:function(e){var t=this;t.$pxl=e},init:function(e,t,n,i){var o=this;return o.save_url=e,o.additional_data=o.$pxl.isObject(t)?t:{},o.allowed_mime_types=n,o.events=i,o},checkFileType:function(e){var t=this;return null===t.allowed_mime_types?!0:t.$pxl.inArray(e.type,t.allowed_mime_types)?!0:!1},checkFileSize:function(e){var t=this;return null===t.max_file_size?!0:!0},start:function(){var e=this;e.cancelled=!1,e.is_uploading=!0,e.processQueueFile()},processQueueFile:function(){var e=this,t=e.files[e.num_processed_files],n=function(t,n){e.cancelled!==!0&&(e.$pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error,percent:Math.round(e.num_processed_files_without_error/e.num_files_without_error*100),error:n}),e.num_processed_files<e.num_files-1?(e.num_processed_files++,t.error===!1&&e.num_processed_files_without_error++,e.processQueueFile()):(e.$pxl.isFunction(e.events.onAllComplete)&&e.events.onAllComplete(),pxl_file_upload.clearQueue(),e.is_uploading=!1))};if(e.$pxl.isFunction(e.events.onBeforeFileUpload)&&e.events.onBeforeFileUpload({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error}),t.error===!1){var i=e.additional_data;i["X-Pxl-Original-Filename"]=t.file.name,i["X-Pxl-Size"]=t.file.size,i["X-Pxl-Mime"]=t.file.type,e.$pxl.ajax.post(e.save_url,t.file,{progress:function(n){e.$pxl.isFunction(e.events.onFileProgress)&&e.events.onFileProgress({file:t,file_index:e.num_processed_files,percent:n})},success:function(t){var i=e.files[e.num_processed_files];e.$pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:i,file_index:e.num_processed_files,result:t}),n(i,null)},error:function(i){e.cancelled===!1&&(e.$pxl.isFunction(e.events.onFileError)&&e.events.onFileError({file:t,file_index:e.num_processed_files,error:i}),n(t,i))}},{file_upload:!0,file_upload_data:i})}else n(t,null)},throwError:function(e){var t=this;"function"==typeof t.events.onError&&t.events.onError(e)},removeFileFromQueue:function(e){var t=this;return t.$pxl.isUndefined(t.files[e])?void(t.$pxl.options.debug===!0&&t.$pxl.error("Could not find queue file on index "+e+".")):(t.files.splice(e,1),void t.num_files--)},getFiles:function(){for(var e=this,t=[],n=0;n<e.num_files;n++){var i=e.files[n];t.push({file:{name:i.file.name,type:i.file.type,size:i.file.size},error:i.error,errors:i.errors})}return t},getFile:function(e){return self.$pxl.isUndefined(this.files[e])?null:this.files[e]},clearQueue:function(){var e=this;e.files=[],e.num_files=0,e.num_files_without_error=0,e.num_processed_files=0,e.num_processed_files_without_error=0},addFilesToQueue:function(e){for(var t=this,n=0,i=e.length;i>n;n++){var o=e[n],r={file:o,errors:{mime:!1,size:!1},error:!1};t.checkFileType(o)===!1&&(r.errors.mime=!0,r.error=!0),t.checkFileSize(o)===!1&&(r.errors.size=!0,r.error=!0),r.error===!1&&t.num_files_without_error++,t.files.push(r)}t.num_files=t.files.length},cancel:function(){var e=this;if(0!==e.num_files){e.cancelled=!0,e.$pxl.isUndefined(e.$pxl.ajax.requests[e.save_url])||e.$pxl.ajax.requests[e.save_url].abort();var t=e.is_uploading===!0;e.is_uploading=!1,e.$pxl.isFunction(e.events.onCancel)&&e.events.onCancel({file:e.files[e.num_processed_files],file_index:e.num_processed_files,was_uploading:t}),e.clearQueue()}}},pxlCore_Form.prototype={$pxl:null,file_upload:null,init:function(e){var t=this;e.options.debug===!0&&e.log("~ pxlCore/Form ~","#CCC","black"),t.$pxl=e,t.file_upload=new pxlCore_Form_FileUpload(t.$pxl)}},pxlCore.prototype={version:"1.0.71",options:{debug:!1,notification:{engines:[]}},framework:null,ui:null,ajax:null,modal:null,notification:null,uri:null,form:null,dynamic_item:null,libraries:[],init:function(e){var t=this;"object"==typeof e&&(t.options=t.extend(t.options,e)),t.detectPXLFramework(),t.options.debug===!0&&(t.log("~ pxlCore ~","black","white"),t.log("Version: "+t.version),t.log("Detected pxlFramework: "+(null!==t.framework?"Yes":"No")),null!==t.framework&&(t.log("Current Page: "+t.framework.current_page),t.log("Page ID: "+t.framework.page_id),t.log("Base URL: "+t.framework.base_url))),t.ui=new pxlCore_UI(t),t.ajax=new pxlCore_Ajax(t),t.modal=new pxlCore_Modal(t),t.inArray("Notiny",t.options.notification.engines)||t.options.notification.engines.push("Notiny"),t.notification=new pxlCore_Notification(t,"Notiny"),null!==t.framework&&"object"==typeof pxl_notification&&t.notification.show({type:pxl_notification.type,message:pxl_notification.text}),t.uri=new pxlCore_URI(t),t.form=new pxlCore_Form(t),t.dynamic_item=new pxlCore_DynamicItem(t)},detectPXLFramework:function(){var e=this;"object"==typeof pxl&&(e.framework=pxl)},log:function(e,t,n){var i="";"string"==typeof t&&(i="background:"+t+";padding:0 6px"),"string"==typeof n&&(i+=(""!==i?";":"")+"color:"+n),console.log("%c"+e,""!==i?i:null)},error:function(e){this.log(e,"#F00","#FFF")},extend:function(e,t){var n,i={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n]);for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i},isUndefined:function(e){return void 0==e},isDefined:function(e){return!this.isUndefined(e)},isFunction:function(e){return"function"==typeof e},isObject:function(e){return e===Object(e)},inArray:function(e,t){return-1!==$.inArray(e,t)},getObjectSize:function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n},redirect:function(e,t){window.location="boolean"==typeof t?this.uri.urlize(e):e},implode:function(e,t,n){var i="",o="",r="";if(n=n||null,1===arguments.length&&(t=e,e=""),"object"==typeof t){if("[object Array]"===Object.prototype.toString.call(t)&&null===n)return t.join(e);var l=t.length;for(i in t)t.hasOwnProperty(i)&&(o+=r+t[i],r=l-2>i?e:n);return o}return t},openPopup:function(e,t,n){var i=$(window).height()/2-n/2,o=$(window).width()/2-t/2;window.open(e,"pxl-popup","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=no,top="+i+",left="+o+",width="+t+",height="+n)},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},lcfirst:function(e){return e.charAt(0).toLowerCase()+e.slice(1)}};