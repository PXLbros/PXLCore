function pxlCore_Notification_Engine_SweetAlert(e){this.loaded=this.init(e)}function pxlCore_Notification_Engine_Notiny(e){this.loaded=this.init(e)}function pxlCore_Notification(e){this.init(e)}function pxlCore_Modal(e){this.init(e)}function pxlCore_Ajax_Request(e){this.init(e)}function pxlCore_Ajax(e){this.init(e)}function pxlCore_UI(e){this.init(e)}function pxlCore_URI(e){this.init(e)}function pxlCore_Form_FileUpload(e){this._init(e)}function pxlCore_Form(e){this.init(e)}function pxlCore(e){this.init(e)}pxlCore_Notification_Engine_SweetAlert.prototype={$pxl:null,init:function(e){var n=this;return"function"!=typeof sweetAlert?!1:(n.$pxl=e,!0)},showSuccess:function(e){},showConfirm:function(e){var n="string"==typeof e.title?e.title:null;swal({title:n,text:null!==e.question?e.question:null,type:"string"==typeof e.type?e.type:"info",showCancelButton:!0,confirmButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.yes?e.buttons.yes:"Yes",cancelButtonText:"object"==typeof e.buttons&&"string"==typeof e.buttons.no?e.buttons.no:"No"},"function"==typeof e.onConfirm?e.onConfirm:function(){})}},pxlCore_Notification_Engine_Notiny.prototype={$pxl:null,options:{position:"right-top",width:"auto"},init:function(e){var n=this;return"function"!=typeof $.notiny?!1:(n.$pxl=e,!0)},showSuccess:function(e){var n=this,t="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:n.options.position,width:n.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:t,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})},showError:function(e){var n=this,t="undefined"==typeof e.autoHide||"boolean"==typeof e.autoHide&&e.autoHide===!0||"number"==typeof e.autoHide&&e.autoHide>0;$.notiny({text:e.message,position:n.options.position,width:n.options.width,delay:"number"==typeof e.autoHide?e.autoHide:3e3,autohide:t,clickhide:"boolean"==typeof e.hideOnClick?e.hideOnClick:!0})}},pxlCore_Notification.prototype={engines:[],default_engine_id:null,current_engine_id:null,init:function(e){var n=this;e.options.debug===!0&&e.log("~ pxlCore/Notification ~","#CCC","black");var t,o,i,r;for(t=0,num_engines=e.options.notification.engines.length;t<num_engines;t++)o=e.options.notification.engines[t],i="pxlCore_Notification_Engine_"+o,r=new window[i](e),r.loaded!==!1?(n.engines[o]=r,(0===t||t>0&&null===n.default_engine_id)&&(n.default_engine_id=o)):e.error('Could not load notification engine "'+o+'".');var l=e.getObjectSize(n.engines);if(null!==n.default_engine_id&&n.setEngine(n.default_engine_id),e.options.debug===!0){var s="Loaded Engines: ";if(l>0){t=0;for(o in n.engines)s+=o+(l-1>t?", ":""),t++}else s+="None";e.log(s),e.log("Default Engine: "+(null!==n.default_engine_id?n.default_engine_id:"/"))}},setEngine:function(e){this.current_engine_id=e},prepare:function(e,n){var t=this;if("string"==typeof e.engine){if("object"!=typeof t.engines[e.engine])return $pxl.error('pxlCore/Notification: Engine "'+e.engine+'" not found.'),!1;t.setEngine(e.engine)}var o=t.engines[t.current_engine_id];if("function"!=typeof o["show"+n])return $pxl.error('pxlCore/Notification: Engine "'+t.current_engine_id+'" doesn\'t support type "'+n+'".'),!1;if("Success"===n||"Info"===n||"Warning"===n||"Error"===n){if("undefined"==typeof e.message)return $pxl.error('pxlCore/Notification: Missing required argument "message".'),!1}else if("Confirm"===n&&"undefined"==typeof e.question)return $pxl.error('pxlCore/Notification: Missing required argument "question".'),!1;return!0},reset:function(){this.setEngine(this.default_engine_id)},showSuccess:function(e){var n=this;n.prepare(e,"Success")!==!1&&(n.engines[n.current_engine_id].showSuccess(e),n.reset())},showInfo:function(e){var n=this;n.prepare(e,"Info")!==!1&&(n.engines[n.current_engine_id].showInfo(e),n.reset())},showWarning:function(e){var n=this;n.prepare(e,"Warning")!==!1&&(n.engines[n.current_engine_id].showWarning(e),n.reset())},showError:function(e){var n=this;n.prepare(e,"Error")!==!1&&(n.engines[n.current_engine_id].showError(e),n.reset())},showConfirm:function(e){var n=this;n.prepare(e,"Confirm")!==!1&&(n.engines[n.current_engine_id].showConfirm(e),n.reset())},show:function(e){var n=this;if("undefined"==typeof e.type)return $pxl.error('pxlCore/Notification: Missing required argument "type".'),!1;var t;1===e.type?t="Success":2===e.type?t="Info":3===e.type?t="Warning":4===e.type&&(t="Error"),n.prepare(e,t)!==!1&&(1===e.type?n.engines[n.current_engine_id].showSuccess(e):2===e.type?n.engines[n.current_engine_id].showInfo(e):3===e.type?n.engines[n.current_engine_id].showWarning(e):4===e.type&&n.engines[n.current_engine_id].showError(e),n.reset())}},pxlCore_Modal.prototype={default_options:{title:null,width:320,height:240,modal:!0,autoOpen:!1,verticalPadding:20,horizontalPadding:18,headerHeight:40,buttonsContainerHeight:40,buttons:[],getURL:null,getData:null,loadingText:"Loading",modes:null,afterLoaded:null},modals:{},current_modal_id:null,init:function(e){e.options.debug===!0&&e.log("~ pxlCore/Modal ~","#CCC","black")},initFromElement:function(e,n){},initFromHTML:function(e,n){var t=this;return t.create(n)},create:function(e){var n=this,t=$pxl.getObjectSize(n.modals)+1;"object"==typeof e&&(e=$pxl.extend(n.default_options,e));var o={id:t,selector:"#pxl-modal-"+t,$modal:null,$loader:null,$loader_text:null,$header:null,$content:null,$buttons_container:null,$buttons:null,default_line_height:null,mode:null,options:e,setLoaderText:function(e){var n=this;n.$loader_text.innerHTML=e},showLoader:function(e){var n=this;($pxl.isUndefined(e)||null===e)&&(e=this.options.loadingText),n.$modal.classList.add("loading"),n.$content.style.lineHeight=n.$content.style.height,n.setLoaderText(e),n.$loader.style.display="block"},hideLoader:function(){var e=this;e.$modal.classList.remove("loading"),e.$loader.style.display="none"},getButtons:function(){var e=this;return null===e.options.modes?e.options.buttons:void 0},enableButtons:function(e){var n=this;"boolean"!=typeof e&&(e=!1);var t=n.getButtons();for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];(e===!1||e===!0&&"undefined"!=typeof i.save&&i.save===!1)&&$(i.selector).removeClass("disabled")}},disableButtons:function(e){var n=this;"boolean"!=typeof e&&(e=!1);var t=n.getButtons();for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];e===!1||e&&"undefined"!=typeof i.save&&i.save===!0?$(i.selector).addClass("disabled"):$(i.selector).removeClass("disabled")}},open:function(e){var t=this;t.showLoader(t.options.loadingText),t.$modal.classList.add("open"),document.body.appendChild(t.$modal);var o,i,r=t.getButtons(),l="";for(o in r)r.hasOwnProperty(o)&&(i=r[o],l+=i.html);t.$buttons.innerHTML=l;for(o in r)r.hasOwnProperty(o)&&(i=r[o],$pxl.isFunction(i.click)&&!function(e){$(e.selector).on("click",function(){e.click(e)===!1})}(i));n.current_modal_id=t.id,$pxl.ajax.get(t.options.getURL,t.options.getData,{success:function(e){t.$content.innerHTML=e.data.html,t.hideLoader(),t.enableButtons(),$pxl.isFunction(t.options.afterLoaded)&&t.options.afterLoaded(!0,e)},error:function(e){t.hideLoader(),t.enableButtons(!0),$pxl.isFunction(t.options.afterLoaded)&&t.options.afterLoaded(!1,e)}})},close:function(){var e=this;e.$modal.classList.add("close"),e.$modal.classList.remove("open"),$(e.selector).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){e.$modal.classList.remove("close"),e.$content.classList.remove("error"),$(e.selector).remove()}),e.current_modal_id=null}},i=o.options.height-2*o.options.verticalPadding-o.options.headerHeight-o.options.buttonsContainerHeight;o.$loader=document.createElement("div"),o.$loader.className="ui segment pxl-modal-loader-container",o.$loader.style.height=i+"px";var r=document.createElement("div");r.className="ui active inverted dimmer",o.$loader_text=document.createElement("div"),o.$loader_text.setAttribute("id","pxl-modal-"+o.id+"-loader-text");var l;l=o.options.height>640?"large":o.options.height>480?"medium":"small",o.$loader_text.className="ui "+l+" text loader",o.$loader_text.innerHTML=o.options.loadingText,r.appendChild(o.$loader_text),o.$loader.appendChild(r),o.$header=document.createElement("div"),o.$header.className="pxl-modal-header",o.$header.style.height=o.options.headerHeight+"px",o.$header.innerHTML='<div class="pxl-modal-header-title">'+o.options.title+"</div>"+(o.options.closeButton===!0?'<div class="pxl-modal-header-buttons"><a href="javascript:" class="pxl-modal-close-button"><i class="remove icon"></i></a></div>':""),o.$content=document.createElement("div"),o.$content.className="pxl-modal-content",o.$content.style.height=i+"px",o.$content.style.overflowY="auto",o.$buttons_container=document.createElement("div"),o.$buttons_container.className="pxl-modal-buttons-container",o.$buttons_container.style.height=o.options.buttonsContainerHeight+"px",o.$buttons=document.createElement("div"),o.$buttons.className="core-modal-buttons";var s,a=function(e,n){return e.selector="#pxl-modal-"+o.id+"-button-"+(n+1),e.html='<a href="javascript:" id="'+e.selector.substring(1)+'" class="ui button tiny disabled">'+e.text+"</a>",function(e){e.setText=function(){return $(e.selector).html(text),e},e.setLoadingText=function(){e.setText(e.loadingText)},e.enable=function(){return $(e.selector).removeClass("disabled"),e},e.disable=function(){return $(e.selector).addClass("disabled"),e},e.spin=function(){return $(e.selector).addClass("loading"),e},e.stopSpin=function(){return $(e.selector).removeClass("loading"),e}}(e),e};if(null!==o.options.modes);else for(s=0,num_buttons=e.buttons.length;s<num_buttons;s++)o.options.buttons[s]=a(o.options.buttons[s],s);o.$buttons_container.appendChild(o.$buttons);var u=document.createElement("div");return u.className="pxl-modal",u.setAttribute("id","pxl-modal-"+o.id),u.style.width=o.options.width+"px",u.style.height=o.options.height+"px",u.style.marginTop=-(o.options.height/2)+"px",u.style.marginLeft=-(o.options.width/2)+"px",u.style.padding=o.options.verticalPadding+"px "+o.options.horizontalPadding+"px",u.appendChild(o.$loader),u.appendChild(o.$header),u.appendChild(o.$loader),u.appendChild(o.$content),u.appendChild(o.$buttons_container),o.default_line_height=o.$content.style.lineHeight,o.$modal=u,n.modals[o.id]=o,o.options.autoOpen===!0&&o.open(),o}},pxlCore_Ajax_Request.prototype={$pxl:null,$form:null,url:"",data:{},method:"GET",data_type:"json",cache:!1,async:!0,result:null,before:null,progress:null,success:null,error:null,always:null,abort:null,init:function(e){var n=this;n.$pxl=e,n.$pxl.options.debug===!0&&n.$pxl.log("~ pxlCore/Ajax ~","#CCC","black")},execute:function(){var e=this;if($pxl.isUndefined(e.url))return void $pxl.log("Missing AJAX URL.");$pxl.isUndefined($pxl.ajax.requests[e.url])||!$pxl.isUndefined(e.allowMultiple)&&e.allowMultiple!==!1||$pxl.ajax.requests[e.url].abort();var n=$pxl.isDefined(e.file_upload)&&e.file_upload===!0,t={"X-XSRF-TOKEN":$pxl.framework.csrf_token};n===!0&&$pxl.isObject(e.file_upload_data)&&(t=$.extend(t,e.file_upload_data)),$pxl.ajax.requests[e.url]=$.ajax({type:e.method,url:e.url,data:e.data,dataType:e.data_type,cache:e.cache,async:e.async,processData:n!==!0,contentType:n===!0?!1:"application/x-www-form-urlencoded; charset=UTF-8",headers:t,xhr:function(){var n=$.ajaxSettings.xhr();return $pxl.isFunction(e.progress)&&(n.upload.onprogress=function(n){var t=n.loaded/n.total*100;e.progress(t)}),n},beforeSend:function(n,t){$pxl.isFunction(e.before)&&e.before(n,t)}}).done(function(n){$pxl.isFunction(e.success)&&e.success(n),"undefined"!=typeof n.notification&&null!==n.notification&&"number"==typeof n.notification.type&&"string"==typeof n.notification.text&&$pxl.notification.show({type:n.notification.type,message:n.notification.text}),$pxl.isUndefined(n.redirect)||setTimeout(function(){return $pxl.redirect(n.redirect.url)},n.redirect.delay),e.result=n}).always(function(n){$pxl.isFunction(e.always)&&e.always(n),delete $pxl.ajax.requests[e.url]}).fail(function(n,t,o){"abort"===n?$pxl.isFunction(e.abort)&&e.abort():($pxl.isFunction(e.error)&&e.error(o),$pxl.options.debug===!0&&$pxl.notification.showError({message:n.responseText,autoHide:!1}))})}},pxlCore_Ajax.prototype={$pxl:null,requests:[],init:function(e){var n=this;n.$pxl=e,n.$pxl.options.debug===!0&&n.$pxl.log("~ pxlCore/Ajax ~","#CCC","black")},get:function(e,n,t,o){var i=this,r=new pxlCore_Ajax_Request(i.$pxl);if(r.method="GET",r.url=e,r.data=n,i.$pxl.isUndefined(t)&&(t={}),i.$pxl.isFunction(t.before)&&(r.before=t.before),i.$pxl.isFunction(t.progress)&&(r.progress=t.progress),i.$pxl.isFunction(t.success)&&(r.success=t.success),i.$pxl.isFunction(t.error)&&(r.error=t.error),i.$pxl.isFunction(t.always)&&(r.always=t.always),i.$pxl.isFunction(t.abort)&&(r.abort=t.abort),i.$pxl.isObject(o))for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l]);return r.execute(),r},post:function(e,n,t,o){var i=this,r=new pxlCore_Ajax_Request(i.$pxl);if(r.method="POST",r.url=e,r.data=n,i.$pxl.isUndefined(t)&&(t={}),i.$pxl.isFunction(t.before)&&(r.before=t.before),i.$pxl.isFunction(t.progress)&&(r.progress=t.progress),i.$pxl.isFunction(t.success)&&(r.success=t.success),i.$pxl.isFunction(t.error)&&(r.error=t.error),i.$pxl.isFunction(t.always)&&(r.always=t.always),i.$pxl.isFunction(t.abort)&&(r.abort=t.abort),i.$pxl.isObject(o))for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l]);return r.execute(),r}},pxlCore_UI.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/UI ~","#CCC","black")},onAnimationComplete:function(e,n){null!==e&&$pxl.isFunction(n)&&(e.addEventListener("webkitAnimationEnd",n,!1),e.addEventListener("oAnimationEnd",n,!1),e.addEventListener("msAnimationEnd",n,!1),e.addEventListener("animationend",n,!1))},onTransitionComplete:function(e,n){null!==e&&$pxl.isFunction(n)&&(e.addEventListener("webkitTransitionEnd",n,!1),e.addEventListener("otransitionend",n,!1),e.addEventListener("oTransitionEnd",n,!1),e.addEventListener("msTransitionEnd",n,!1),e.addEventListener("transitionend",n,!1))}},pxlCore_URI.prototype={init:function(e){e.options.debug===!0&&e.log("~ pxlCore/URI ~","#CCC","black")},urlize:function(e){return $pxl.isUndefined($pxl.framework.base_url)?void $pxl.log("Base URL not set."):$pxl.framework.base_url+e}},pxlCore_Form_FileUpload.prototype={$pxl:null,save_url:null,additional_data:{},files:[],num_files:0,num_files_without_error:0,num_processed_files:0,num_processed_files_without_error:0,allowed_mime_types:null,max_file_size:null,events:null,is_uploading:!1,cancelled:!1,_init:function(e){var n=this;n.$pxl=e},init:function(e,n,t,o){var i=this;return i.save_url=e,i.additional_data=$pxl.isObject(n)?n:{},i.allowed_mime_types=t,i.events=o,i},checkFileType:function(e){var n=this;return null===n.allowed_mime_types?!0:$pxl.inArray(e.type,n.allowed_mime_types)?!0:!1},checkFileSize:function(e){var n=this;return null===n.max_file_size?!0:!0},start:function(){var e=this;e.cancelled=!1,e.is_uploading=!0,e.processQueueFile()},processQueueFile:function(){var e=this,n=e.files[e.num_processed_files],t=function(n,t){e.cancelled!==!0&&($pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error,percent:Math.round(e.num_processed_files_without_error/e.num_files_without_error*100),error:t}),e.num_processed_files<e.num_files-1?(e.num_processed_files++,n.error===!1&&e.num_processed_files_without_error++,e.processQueueFile()):($pxl.isFunction(e.events.onAllComplete)&&e.events.onAllComplete(),pxl_file_upload.clearQueue(),e.is_uploading=!1))};if($pxl.isFunction(e.events.onBeforeFileUpload)&&e.events.onBeforeFileUpload({file:e.files[e.num_processed_files],file_index:e.num_processed_files,num_files:e.num_files_without_error}),n.error===!1){var o=e.additional_data;o["X-Pxl-Original-Filename"]=n.file.name,o["X-Pxl-Size"]=n.file.size,o["X-Pxl-Mime"]=n.file.type,$pxl.ajax.post(e.save_url,n.file,{progress:function(t){$pxl.isFunction(e.events.onFileProgress)&&e.events.onFileProgress({file:n,file_index:e.num_processed_files,percent:t})},success:function(n){var o=e.files[e.num_processed_files];$pxl.isFunction(e.events.onFileComplete)&&e.events.onFileComplete({file:o,file_index:e.num_processed_files,result:n}),t(o,null)},error:function(o){e.cancelled===!1&&($pxl.isFunction(e.events.onFileError)&&e.events.onFileError({file:n,file_index:e.num_processed_files,error:o}),t(n,o))}},{file_upload:!0,file_upload_data:o})}else t(n,null)},throwError:function(e){var n=this;"function"==typeof n.events.onError&&n.events.onError(e)},removeFileFromQueue:function(e){var n=this;return $pxl.isUndefined(n.files[e])?void($pxl.options.debug===!0&&$pxl.error("Could not find queue file on index "+e+".")):(n.files.splice(e,1),void n.num_files--)},getFiles:function(){return this.files},getFile:function(e){return $pxl.isUndefined(this.files[e])?null:this.files[e]},clearQueue:function(){var e=this;e.files=[],e.num_files=0,e.num_files_without_error=0,e.num_processed_files=0,e.num_processed_files_without_error=0},addFilesToQueue:function(e){for(var n=this,t=0,o=e.length;o>t;t++){var i=e[t],r={file:i,errors:{mime:!1,size:!1},error:!1};n.checkFileType(i)===!1&&(r.errors.mime=!0,r.error=!0),n.checkFileSize(i)===!1&&(r.errors.size=!0,r.error=!0),r.error===!1&&n.num_files_without_error++,n.files.push(r)}n.num_files=n.files.length},cancel:function(){var e=this;if(0!==e.num_files){e.cancelled=!0,$pxl.isUndefined($pxl.ajax.requests[e.save_url])||$pxl.ajax.requests[e.save_url].abort();var n=e.is_uploading===!0;e.is_uploading=!1,$pxl.isFunction(e.events.onCancel)&&e.events.onCancel({file:e.files[e.num_processed_files],file_index:e.num_processed_files,was_uploading:n}),e.clearQueue()}}},pxlCore_Form.prototype={$pxl:null,file_upload:null,init:function(e){var n=this;e.options.debug===!0&&e.log("~ pxlCore/Form ~","#CCC","black"),n.$pxl=e,n.file_upload=new pxlCore_Form_FileUpload(e)}},pxlCore.prototype={version:"1.0.39",options:{debug:!1,notification:{engines:[]}},framework:null,ui:null,ajax:null,modal:null,notification:null,uri:null,form:null,libraries:[],init:function(e){var n=this;"object"==typeof e&&(n.options=n.extend(n.options,e)),n.detectPXLFramework(),n.options.debug===!0&&(n.log("~ pxlCore ~","black","white"),n.log("Version: "+n.version),n.log("Detected pxlFramework: "+(null!==n.framework?"Yes":"No")),null!==n.framework&&(n.log("Current Page: "+n.framework.current_page),n.log("Page ID: "+n.framework.page_id),n.log("Base URL: "+n.framework.base_url))),n.ui=new pxlCore_UI(n),n.ajax=new pxlCore_Ajax(n),n.modal=new pxlCore_Modal(n),n.notification=new pxlCore_Notification(n),n.uri=new pxlCore_URI(n),n.form=new pxlCore_Form(n)},detectPXLFramework:function(){var e=this;"object"==typeof pxl&&(e.framework=pxl)},log:function(e,n,t){var o="";"string"==typeof n&&(o="background:"+n+";padding:0 6px"),"string"==typeof t&&(o+=(""!==o?";":"")+"color:"+t),console.log("%c"+e,""!==o?o:null)},error:function(e){this.log(e,"#F00","#FFF")},extend:function(e,n){var t,o={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t]);for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t]);return o},isUndefined:function(e){return void 0==e},isDefined:function(e){return!this.isUndefined(e)},isFunction:function(e){return"function"==typeof e},isObject:function(e){return e===Object(e)},inArray:function(e,n){return-1!==$.inArray(e,n)},getObjectSize:function(e){var n,t=0;for(n in e)e.hasOwnProperty(n)&&t++;return t},redirect:function(e,n){window.location="boolean"==typeof n?this.uri.urlize(e):e},implode:function(e,n,t){var o="",i="",r="";if(t=t||null,1===arguments.length&&(n=e,e=""),"object"==typeof n){if("[object Array]"===Object.prototype.toString.call(n)&&null===t)return n.join(e);var l=n.length;for(o in n)n.hasOwnProperty(o)&&(i+=r+n[o],r=l-2>o?e:t);return i}return n},openPopup:function(e,n,t){var o=$(window).height()/2-t/2,i=$(window).width()/2-n/2;window.open(e,"pxl-popup","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=no,top="+o+",left="+i+",width="+n+",height="+t)}};